<form [formGroup]="formGroup" class="{{className}}">

  <!-- <ng-container *ngFor="let item of items">

  </ng-container> -->

  <ng-container *ngIf="!page"  [ngTemplateOutlet]="fieldList"
                [ngTemplateOutletContext]="{fields: fields || []}">
  </ng-container>


  <ng-container  *ngFor="let step of page?.steps || []; index as i" [ngTemplateOutlet]="fieldList"
  [ngTemplateOutletContext]="{fields:step.fields || fields || []}">
  </ng-container>

  <ng-template #fieldList let-fields='fields'>
    <ng-container *ngFor="let field of fields; index as i" [ngSwitch]="field.type">

      <div class="section-div" *ngIf="field.sectionName">
        {{field.sectionName}}
      </div>

      <div class="{{field.colSpan}}">

        <span  class="field-label">{{field.label}}</span>

        <tui-input *ngSwitchCase="'input'" formControlName="{{ field.name }}" [inputType]="field.inputType"
          [placeholder]="field.label"></tui-input>

        <tui-select *ngSwitchCase="'select'" formControlName="{{ field.name }}" [optionData]="values[field.name] |async"> </tui-select>

        <tui-repeater class="items" *ngSwitchCase="'repeater'" formControlName="{{ field.name }}"
          [fields]="field.fields || []"> </tui-repeater>

        <tui-form *ngSwitchCase="'inputGroup'" formControlName="{{ field.name }}" [fields]="field.fields || []"
          [className]="field.customCss || ''"></tui-form>

      </div>
    </ng-container>
</ng-template>

</form>

